![](../../workflows/gds/badge.svg) ![](../../workflows/docs/badge.svg) ![](../../workflows/test/badge.svg)

# TinyTapeout tt08: Super Mario Tune on A Piezo Speaker #

## Overview ##
[This Verilog chip design](https://meriac.github.io/tt08-play-tune/) is
made for the [TinyTapout tt08 shuttle](https://app.tinytapeout.com/shuttles/tt08).
It [will play](src/player.v#L38) the [Super Mario Tune](src/tune.v#L42-L45)
over a Piezo Speaker connected across bidir[0:1] and bidir[7]. The speaker is driven
in differential PWM mode to increase its output power. The changed pinout
accomodates for the [Tiny Tapeout Audio Pmod](https://github.com/MichaelBell/tt-audio-pmod).

Please refer to the [Bringup Guide for connecting your piezo speaker or headphone port](docs/info.md).

### Listen To The Generated Sound ###
Listen to the [Verilog Simulation PWM output for 100kHz clock frequency](https://github.com/meriac/tt08-play-tune/releases/download/v0.1/tune-modulation-verilog-simulated.wav) here.

### Chip Design of the Super Mario Tune player ###
![Chip Design of the Super Mario Tune player](docs/img/chip-design.jpg)
(see also the [interactive version of this design](https://meriac.github.io/tt08-play-tune/))

## Verilog Design Files ##
- [Playback Logic](src/player.v#L38)
- Autogenerated [Super Mario Tune Storage](src/tune.v#L42-L45). This
  project contains a [Python-based script for converting a RTTL ringtone into optimized Verilog](generator/generate.py#L38).
  An additional [script converts TIM-file waveforms from the Verilog simulator back to a WAV-sound file](test/tim2wav-test.py#L38)
  to verify the correctness of the hardware-based player's sound.

### PWM Waveform in Verilog Simulation Output ###
Using [GTKWave](https://gtkwave.sourceforge.net/) for visualization of Simulation Results:
![25s of Verilog simulation - showing the Waveform output](docs/img/waveform-overview.png)
![Zooming into the Waveform](docs/img/waveform-detail.png)
